import { switchMap, startWith } from "rxjs/operators";
import { throwError } from "rxjs";

var invalidations = function invalidations() {
  var startWithInvalidation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  return function (handle$) {
    return handle$.pipe(switchMap(function (handle) {
      return startWithInvalidation ? startWith(handle)(handle.invalidated$) : handle.invalidated$;
    }));
  };
};

export default invalidations;
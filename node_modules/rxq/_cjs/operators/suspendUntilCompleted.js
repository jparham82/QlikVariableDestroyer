"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _rxjs = require("rxjs");

var _operators = require("rxjs/operators");

exports.default = function (session) {
  return function (src$) {
    return _rxjs.Observable.create(function (observer) {
      session.suspend();
      src$.subscribe({
        next: function next(n) {
          return observer.next(n);
        },
        error: function error(err) {
          return observer.error(err);
        },
        complete: function complete() {
          session.unsuspend();
          observer.complete();
        }
      });
    });
  };
};

module.exports = exports["default"];